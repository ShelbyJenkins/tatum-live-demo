---
import { Icon } from 'astro-icon/components'
---
<nav id="navbar">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a href="/" class="nav-link logo-bg">
        <span class="logo" id="logo-letter">t</span>
        <span class="logo" id="logo-text">tatum</span>
      </a>
    </li>
    <li class="nav-item">
      <a href="/rpc" class="nav-link link-bg">
        <Icon name="mdi:perspective-less"/>
        <span class="link-text">RPC</span>
      </a>
      </li>
      <li class="nav-item">
        <a href="/data-api" class="nav-link link-bg">
          <Icon name="mdi:database-import"  />
          <span class="link-text">DATA API</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-bg">
          <Icon name="mdi:bell"/>
          <span class="link-text ">NOTIFICATIONS</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-bg">
          <Icon name="mdi:account-card-outline"/>
          <span class="link-text">Open RPC</span>
        </a>
      </li>
  </ul>
</nav>
<style>
  #navbar {
    position: fixed;
    height: 100dvh;
    width: 3rem;
    top: 0px;
    left: 0px;
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    transition: width  var(--transition-speed) ease;
  }
  #navbar:hover {
    width: 12rem;
  }
  .navbar-nav {
    height: 100%;
  }
  .nav-item {
    position: relative;
  }
  .nav-link {
    display: flex;
    width: 100%;
    height: 4rem;
    padding-left: .5rem;
    padding-right: .5rem;
    align-items: center;
    justify-content: flex-start;
    margin-bottom: .25rem;
    transition: var(--transition-speed);
  }
  .logo {
    left: .75rem;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 36px;
    letter-spacing: 0.2rem;
    transition: 400ms;
    position: absolute;
    text-align: left;
    color: var(--text-secondary);
  }

  #logo-text {
    opacity: 0;
  }
  #logo-letter {
    opacity: 1;
  }
  .logo-bg {
    margin-bottom: 1rem;
  }
  .logo-bg:before {
    content: "";
    z-index: -1;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: linear-gradient(90deg, var(--tatum-purple) 40%, var(--tatum-green)  );
    transform: translate3d(-1px, -11px, 0) scale(0.9, .9);
    filter: blur(20px);
    opacity: 0.6;
    transition: opacity 0.3s;
    border-radius: inherit;
  }
  /* 
  * Prevents issues when the parent creates a 
  * stacking context. (For example, using the transform
  * property )
  */
  .logo-bg::after {
      content: "";
      z-index: -1;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: inherit;
      border-radius: inherit;
  }
  #navbar:hover .logo {
    opacity: .9;
  }

  #navbar:hover .logo-bg::before {
    opacity: 0.33;
    transform: translate3d(-1px, -11px, 0) scale(0.9, .9);
  } 

  [data-icon] {
    width: 2rem;
    min-width: 2rem;
    height: 2rem;
    transition: var(--transition-speed);
  }

  .nav-link:hover [data-icon] {
    transform: rotate(3deg);
    opacity: 1;
    color: white;
  }
  .link-text {
    padding-left: 1rem;
    opacity: 1;
    overflow: hidden;
    white-space: nowrap;
    font-size: .8rem;
    text-transform: uppercase;
    letter-spacing: 0.1rem;
    font-weight: 500;
    color: var(--text-secondary);
    
    width: 100%;
  }
  .nav-link:hover .link-text {
    opacity: 1;
    color: var(--text-secondary);
    font-weight: 600;
    /* text-decoration: underline;
    text-decoration-thickness: 0.05rem;
    text-underline-offset: 0.1rem; */
  }
  .nav-link:hover .link-text:before {
    content: "";
    z-index: -1;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: linear-gradient(90deg, white 22%, color-mix(in srgb, var(--tatum-green), transparent 70%) 33%);
    transform: translate3d(-20px, 3px, 0) scale(.77, .33);
    filter: blur(33px);
    opacity: .33;
    transition: opacity 0.3s;
  }
  /* 
  * Prevents issues when the parent creates a 
  * stacking context. (For example, using the transform
  * property )
  */
  .nav-link:hover .link-text::after {
      content: "";
      z-index: -1;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: inherit;
     
  }

</style>

